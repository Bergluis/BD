CREATE DATABASE f
DEFAULT CHARSET UTF8
COLLATE UTF8_GENERAL_CI;

USE f;

CREATE TABLE jogador(
jog_cod INT(11) UNSIGNED NOT NULL PRIMARY KEY UNIQUE AUTO_INCREMENT,
jog_nome VARCHAR(50) NOT NULL,
jog_data_nascimento DATE NOT NULL,
jog_salario DECIMAL(10,2) NOT NULL
);

CREATE TABLE estadio(
est_cod INT(11) UNSIGNED NOT NULL PRIMARY KEY UNIQUE AUTO_INCREMENT,
est_nome VARCHAR(50) NOT NULL,
est_capacidade INT(11) NOT NULL
);

CREATE TABLE tecnico(
tec_cod INT(11) UNSIGNED NOT NULL PRIMARY KEY UNIQUE AUTO_INCREMENT,
tec_nome VARCHAR(50) NOT NULL,
jog_cod INT(11) UNSIGNED NOT NULL,
CONSTRAINT fk1
FOREIGN KEY (jog_cod)
REFERENCES jogador(jog_cod)
);

CREATE TABLE escalacao(
esc_cod INT(11) UNSIGNED NOT NULL PRIMARY KEY UNIQUE AUTO_INCREMENT,
jog_cod INT(11) UNSIGNED NOT NULL,
esc_data DATE NOT NULL,
CONSTRAINT fk2
FOREIGN KEY (jog_cod)
REFERENCES jogador(jog_cod)
);

CREATE TABLE clube(
clu_cod INT(11) UNSIGNED NOT NULL PRIMARY KEY UNIQUE AUTO_INCREMENT,
clu_nome VARCHAR(50) NOT NULL,
tec_cod INT(11) UNSIGNED NOT NULL,
CONSTRAINT fk3
FOREIGN KEY (tec_cod)
REFERENCES tecnico(tec_cod)
);

CREATE TABLE contrato(
jog_cod INT(11) UNSIGNED NOT NULL,
clu_cod INT(11) UNSIGNED NOT NULL,
CONSTRAINT fk4
FOREIGN KEY (jog_cod)
REFERENCES jogador(jog_cod),
CONSTRAINT fk5
FOREIGN KEY (clu_cod)
REFERENCES clube(clu_cod)
);

CREATE TABLE partida(
par_cod INT(11) UNSIGNED NOT NULL PRIMARY KEY UNIQUE AUTO_INCREMENT,
clu_cod_casa INT(11) UNSIGNED NOT NULL,
clu_cod_visitante INT(11) UNSIGNED NOT NULL,
est_cod INT(11) UNSIGNED NOT NULL,
par_data DATE NOT NULL,
CONSTRAINT fk6
FOREIGN KEY (clu_cod_casa)
REFERENCES clube(clu_cod), 
CONSTRAINT fk7
FOREIGN KEY (clu_cod_visitante)
REFERENCES clube(clu_cod),
CONSTRAINT fk8
FOREIGN KEY (est_cod)
REFERENCES estadio(est_cod)
);